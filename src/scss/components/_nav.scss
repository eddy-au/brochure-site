@import '../utils/tokens';
@import '../functions/to-rem';
@import '../mixins/center';
@import '../mixins/display-p3';
@import '../mixins/has-touch';

.#{$ns}-nav {
  position: fixed;
  top: 0;
  left: 0;
  box-sizing: border-box;
  height: to-rem(84px);
  width: 100vw;
  @include display-p3(border-color, $color-gray-8);
  border-style: solid;
  border-bottom-width: to-rem(1px);
}

.#{$ns}-nav__menu {
  @include center(y);
  right: to-rem(16px);
  height: to-rem(44px);
  padding-left: to-rem(4px);
  padding-right: to-rem(4px);
  border-radius: to-rem(8px);

  // Amend color later
  @include display-p3(background-color, #0a0a0a);

  cursor: pointer;
}

.#{$ns}-nav__menu::before {
  content: '';
  position: absolute;
  top: to-rem(-2px);
  left: to-rem(-2px);
  display: inline;
  height: calc(100% + #{to-rem(4px)});
  width: calc(100% + #{to-rem(4px)});
  border-radius: to-rem(8px);
  box-shadow: 0 0 0 0 rgba($color-focus-outline, 0);
  box-shadow: 0 0 0 0 to-display-p3(rgba($color-focus-outline, 0));
  transition: box-shadow 250ms ease;
}

.#{$ns}-nav__menu:focus-within:before {
  box-shadow: 0 0 0 to-rem(3px) $color-focus-outline;
  box-shadow: 0 0 0 to-rem(3px) to-display-p3($color-focus-outline);
}

@include has-touch() {
  .#{$ns}-nav {
    top: unset;
    bottom: 0;
    border-top-width: to-rem(1px);
    border-bottom-width: 0;
  }

  .#{$ns}-nav__menu {
    @include center();
    right: unset;
  }
}

.#{$ns}-nav__item {
  float: left;
}

.#{$ns}-nav__item:first-of-type {
  margin-right: to-rem(4px);
}

.#{$ns}-nav__link {
  z-index: 1;
  position: relative;
  display: block;
  padding-right: to-rem(12px);
  padding-left: to-rem(12px);
  outline: none;
  @include display-p3(color, $color-gray-3);
  font-size: $font-size-xxs;
  font-weight: $font-weight-medium;
  line-height: to-rem(44px);
  text-decoration: none;
  transition: color 250ms ease;
  user-select: none;
}

.#{$ns}-nav__link.active {
  @include display-p3(color, $color-gray-0);
}

.#{$ns}-nav__panel {
  position: absolute;
  top: to-rem(4px);
  transform: translateX(-50%);
  height: to-rem(36px);
  width: 36px;
  border-radius: to-rem(4px);
  box-shadow: 0 to-rem(4px) to-rem(8px) 0 rgba(0, 0, 0, 0.5);
  @include display-p3(background-color, $color-gray-9);

  // Convert this cubic-bezier() to 'ease' if nav links exceed 2.
  transition: left 375ms cubic-bezier(0.6, 0, 0.5, 1.4), width 375ms ease;

  pointer-events: none;
}
